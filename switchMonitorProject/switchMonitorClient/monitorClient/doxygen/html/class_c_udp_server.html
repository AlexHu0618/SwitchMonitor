<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>monitorClient: CUdpServer类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">monitorClient
   &#160;<span id="projectnumber">V1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','搜索');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pri-methods">Private 成员函数</a> &#124;
<a href="#pri-attribs">Private 属性</a> &#124;
<a href="class_c_udp_server-members.html">所有成员列表</a>  </div>
  <div class="headertitle">
<div class="title">CUdpServer类 参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>本类主要是负责UDP通信，包含功能为：发送、接收、保存源数据、获取(/设置)接收缓冲区大小、获取下位机开始采集的时间  
 <a href="class_c_udp_server.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a>&gt;</code></p>
<div class="dynheader">
CUdpServer 的协作图:</div>
<div class="dyncontent">
<div class="center"><img src="class_c_udp_server__coll__graph.png" border="0" usemap="#_c_udp_server_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a19041db501fb138a97d3b492f8f2ab10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a19041db501fb138a97d3b492f8f2ab10">CUdpServer</a> (const char *serverAddress, const char *clientAddress, int port, <a class="el" href="_c_udp_server_8h.html#a41273fdeb63230b3a5c360d8c7c11b82">SWITCH_TYPE</a> TypeofSwitch)</td></tr>
<tr class="separator:a19041db501fb138a97d3b492f8f2ab10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541cb9eac44794602e78217e636910b6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a541cb9eac44794602e78217e636910b6">~CUdpServer</a> ()</td></tr>
<tr class="separator:a541cb9eac44794602e78217e636910b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea22b4acc50416dd8048f42b54ec6d5d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#aea22b4acc50416dd8048f42b54ec6d5d">GetrecvBufSize</a> ()</td></tr>
<tr class="separator:aea22b4acc50416dd8048f42b54ec6d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3678f42d43bec018b78eab515d572d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#ad3678f42d43bec018b78eab515d572d2">SetrecvBufSize</a> (unsigned int val)</td></tr>
<tr class="separator:ad3678f42d43bec018b78eab515d572d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7372271e50c6806763777245c6a0a2b8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a7372271e50c6806763777245c6a0a2b8">SendData</a> (char *pszData)</td></tr>
<tr class="memdesc:a7372271e50c6806763777245c6a0a2b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是发送数据，其中指令0x03与0x04发送后被直接返回判断下位机是否接收指令成功，1秒超时；  <a href="#a7372271e50c6806763777245c6a0a2b8">更多...</a><br /></td></tr>
<tr class="separator:a7372271e50c6806763777245c6a0a2b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fbbdcc6e88473bae9488405dcc9b95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a21fbbdcc6e88473bae9488405dcc9b95">RecvData</a> (int nTimeUpSec)</td></tr>
<tr class="memdesc:a21fbbdcc6e88473bae9488405dcc9b95"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是接收下位机数据，在第一帧到达时获取本机时间，接收完成后分析是否有漏帧  <a href="#a21fbbdcc6e88473bae9488405dcc9b95">更多...</a><br /></td></tr>
<tr class="separator:a21fbbdcc6e88473bae9488405dcc9b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ad892f309e7274cc2938c7cee7ba1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a47ad892f309e7274cc2938c7cee7ba1f">SavingRawData</a> (char *szDirPath)</td></tr>
<tr class="memdesc:a47ad892f309e7274cc2938c7cee7ba1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是保存大缓冲区中抽取的源数据  <a href="#a47ad892f309e7274cc2938c7cee7ba1f">更多...</a><br /></td></tr>
<tr class="separator:a47ad892f309e7274cc2938c7cee7ba1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64df8898d87418be839fed707cebe57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#ae64df8898d87418be839fed707cebe57">GetTimeofStartAcq</a> (SYSTEMTIME *tTimeofStartAcq)</td></tr>
<tr class="memdesc:ae64df8898d87418be839fed707cebe57"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是获取下位机触发采集的时间  <a href="#ae64df8898d87418be839fed707cebe57">更多...</a><br /></td></tr>
<tr class="separator:ae64df8898d87418be839fed707cebe57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private 成员函数</h2></td></tr>
<tr class="memitem:ae0c29c53c86376894a6879fae8e4d6b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#ae0c29c53c86376894a6879fae8e4d6b1">__FrameAnalysis</a> (void)</td></tr>
<tr class="memdesc:ae0c29c53c86376894a6879fae8e4d6b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是分析是否漏帧，并根据总数据量计算下位机采集触发的时间  <a href="#ae0c29c53c86376894a6879fae8e4d6b1">更多...</a><br /></td></tr>
<tr class="separator:ae0c29c53c86376894a6879fae8e4d6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cedc8de6419884c89f5731d189175c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a1cedc8de6419884c89f5731d189175c8">__ExtractRawData</a> (void)</td></tr>
<tr class="memdesc:a1cedc8de6419884c89f5731d189175c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是从每一帧中抽取每一个采样值（32bit表示）到大缓冲区  <a href="#a1cedc8de6419884c89f5731d189175c8">更多...</a><br /></td></tr>
<tr class="separator:a1cedc8de6419884c89f5731d189175c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82f718355e3341a4b59dc5ecccb2fc0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#af82f718355e3341a4b59dc5ecccb2fc0">__IsOKCmdBack</a> (SOCKET sockFd, char *pszSentCmd, int nTimeOutMs)</td></tr>
<tr class="memdesc:af82f718355e3341a4b59dc5ecccb2fc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">本函数主要是判断下位机是否接收指令成功  <a href="#af82f718355e3341a4b59dc5ecccb2fc0">更多...</a><br /></td></tr>
<tr class="separator:af82f718355e3341a4b59dc5ecccb2fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private 属性</h2></td></tr>
<tr class="memitem:ad1366d54462c24ed2f0156311d71a378"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#ad1366d54462c24ed2f0156311d71a378">m_unRecvBufSize</a></td></tr>
<tr class="separator:ad1366d54462c24ed2f0156311d71a378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3474dde8431418b65afdd6dd13f20e4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_udp_server_8h.html#a41273fdeb63230b3a5c360d8c7c11b82">SWITCH_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a3474dde8431418b65afdd6dd13f20e4b">m_emTypeofSwitch</a></td></tr>
<tr class="separator:a3474dde8431418b65afdd6dd13f20e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57438bdfb49bff7554c247c509eb261b"><td class="memItemLeft" align="right" valign="top">char(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a57438bdfb49bff7554c247c509eb261b">m_ppszDataBuf</a> )[1470]</td></tr>
<tr class="separator:a57438bdfb49bff7554c247c509eb261b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4203d95ecbe66da8c6965c49692fd8b0"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a4203d95ecbe66da8c6965c49692fd8b0">m_ppnarrRawData</a> )[370]</td></tr>
<tr class="separator:a4203d95ecbe66da8c6965c49692fd8b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac984961f2a410078bd0b2bd9f3fc86e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#ac984961f2a410078bd0b2bd9f3fc86e2">m_nFrameCounter</a></td></tr>
<tr class="separator:ac984961f2a410078bd0b2bd9f3fc86e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab4eee91459d8fe9adaf442a2cc0d0e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#abab4eee91459d8fe9adaf442a2cc0d0e">m_nSizeofEveryChannelRawData</a></td></tr>
<tr class="separator:abab4eee91459d8fe9adaf442a2cc0d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d916e8fd71179b86cd135c2a27a905"><td class="memItemLeft" align="right" valign="top">WSADATA&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a99d916e8fd71179b86cd135c2a27a905">wsaData</a></td></tr>
<tr class="separator:a99d916e8fd71179b86cd135c2a27a905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8161985c5b83878068a0e6ce4c8bcfd7"><td class="memItemLeft" align="right" valign="top">SOCKET&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a8161985c5b83878068a0e6ce4c8bcfd7">RecvSocket</a></td></tr>
<tr class="separator:a8161985c5b83878068a0e6ce4c8bcfd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b80c70fe65c0d70d3af3c2f9c38a3d"><td class="memItemLeft" align="right" valign="top">sockaddr_in&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#a72b80c70fe65c0d70d3af3c2f9c38a3d">RecvAddr</a></td></tr>
<tr class="separator:a72b80c70fe65c0d70d3af3c2f9c38a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36e5573cde44b5eb5a5705b746c388f"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#aa36e5573cde44b5eb5a5705b746c388f">RecvBuf</a> [1500]</td></tr>
<tr class="separator:aa36e5573cde44b5eb5a5705b746c388f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05b43787c7193d9ba50e9fa87f44675"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#af05b43787c7193d9ba50e9fa87f44675">m_nBufLen</a></td></tr>
<tr class="separator:af05b43787c7193d9ba50e9fa87f44675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4f2f8a24a79e3423d13b07a005f387"><td class="memItemLeft" align="right" valign="top">sockaddr_in&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_udp_server.html#afa4f2f8a24a79e3423d13b07a005f387">SenderAddr</a></td></tr>
<tr class="separator:afa4f2f8a24a79e3423d13b07a005f387"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>本类主要是负责UDP通信，包含功能为：发送、接收、保存源数据、获取(/设置)接收缓冲区大小、获取下位机开始采集的时间 </p>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00020">20</a> 行定义.</p>
</div><h2 class="groupheader">构造及析构函数说明</h2>
<a id="a19041db501fb138a97d3b492f8f2ab10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19041db501fb138a97d3b492f8f2ab10">&#9670;&nbsp;</a></span>CUdpServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_udp_server.html">CUdpServer</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serverAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_c_udp_server_8h.html#a41273fdeb63230b3a5c360d8c7c11b82">SWITCH_TYPE</a>&#160;</td>
          <td class="paramname"><em>TypeofSwitch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00029">29</a> 行定义.</p>

</div>
</div>
<a id="a541cb9eac44794602e78217e636910b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a541cb9eac44794602e78217e636910b6">&#9670;&nbsp;</a></span>~CUdpServer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="class_c_udp_server.html">CUdpServer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00049">49</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a1cedc8de6419884c89f5731d189175c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cedc8de6419884c89f5731d189175c8">&#9670;&nbsp;</a></span>__ExtractRawData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void __ExtractRawData </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>本函数主要是从每一帧中抽取每一个采样值（32bit表示）到大缓冲区 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>void </dd></dl>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00272">272</a> 行定义.</p>

</div>
</div>
<a id="ae0c29c53c86376894a6879fae8e4d6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c29c53c86376894a6879fae8e4d6b1">&#9670;&nbsp;</a></span>__FrameAnalysis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool __FrameAnalysis </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>本函数主要是分析是否漏帧，并根据总数据量计算下位机采集触发的时间 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>bool，成功返回true；不成功返回false </dd></dl>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00228">228</a> 行定义.</p>

</div>
</div>
<a id="af82f718355e3341a4b59dc5ecccb2fc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82f718355e3341a4b59dc5ecccb2fc0">&#9670;&nbsp;</a></span>__IsOKCmdBack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool __IsOKCmdBack </td>
          <td>(</td>
          <td class="paramtype">SOCKET&#160;</td>
          <td class="paramname"><em>sockFd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pszSentCmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nTimeOutMs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>本函数主要是判断下位机是否接收指令成功 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">sockFd</td><td>SOCKET，socket文件符 </td></tr>
    <tr><td class="paramname">pszSentCmd</td><td>char*，要发送的指令缓冲区指针 </td></tr>
    <tr><td class="paramname">nTimeOutMs</td><td>int，超时时间 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>bool，成功返回0；不成功返回-1 </dd></dl>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00099">99</a> 行定义.</p>

</div>
</div>
<a id="aea22b4acc50416dd8048f42b54ec6d5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea22b4acc50416dd8048f42b54ec6d5d">&#9670;&nbsp;</a></span>GetrecvBufSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int GetrecvBufSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00026">26</a> 行定义.</p>

</div>
</div>
<a id="ae64df8898d87418be839fed707cebe57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64df8898d87418be839fed707cebe57">&#9670;&nbsp;</a></span>GetTimeofStartAcq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GetTimeofStartAcq </td>
          <td>(</td>
          <td class="paramtype">SYSTEMTIME *&#160;</td>
          <td class="paramname"><em>tTimeofStartAcq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>本函数主要是获取下位机触发采集的时间 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">tTimeofStartAcq</td><td>SYSTEMTIME*，保存时间的结构体 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>void </dd></dl>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00394">394</a> 行定义.</p>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="class_c_udp_server_ae64df8898d87418be839fed707cebe57_icgraph.png" border="0" usemap="#class_c_udp_server_ae64df8898d87418be839fed707cebe57_icgraph" alt=""/></div>
<map name="class_c_udp_server_ae64df8898d87418be839fed707cebe57_icgraph" id="class_c_udp_server_ae64df8898d87418be839fed707cebe57_icgraph">
<area shape="rect" id="node2" href="class_c_udp_server.html#ad3678f42d43bec018b78eab515d572d2" title="SetrecvBufSize" alt="" coords="185,5,296,32"/>
</map>
</div>

</div>
</div>
<a id="a21fbbdcc6e88473bae9488405dcc9b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fbbdcc6e88473bae9488405dcc9b95">&#9670;&nbsp;</a></span>RecvData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RecvData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nTimeUpSec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>本函数主要是接收下位机数据，在第一帧到达时获取本机时间，接收完成后分析是否有漏帧 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">nTimeUpSec</td><td>int，超时时间 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int，成功返回接收的总帧数；不成功返回0 </dd></dl>
<p>&lt; analyzing frame </p>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00141">141</a> 行定义.</p>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="class_c_udp_server_a21fbbdcc6e88473bae9488405dcc9b95_icgraph.png" border="0" usemap="#class_c_udp_server_a21fbbdcc6e88473bae9488405dcc9b95_icgraph" alt=""/></div>
<map name="class_c_udp_server_a21fbbdcc6e88473bae9488405dcc9b95_icgraph" id="class_c_udp_server_a21fbbdcc6e88473bae9488405dcc9b95_icgraph">
<area shape="rect" id="node2" href="class_c_udp_server.html#ad3678f42d43bec018b78eab515d572d2" title="SetrecvBufSize" alt="" coords="131,5,241,32"/>
</map>
</div>

</div>
</div>
<a id="a47ad892f309e7274cc2938c7cee7ba1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ad892f309e7274cc2938c7cee7ba1f">&#9670;&nbsp;</a></span>SavingRawData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SavingRawData </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>szDirPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>本函数主要是保存大缓冲区中抽取的源数据 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">szDirPath</td><td>char*，要保存的文件夹名称指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>void </dd></dl>
<p>&lt; whether is the last frame of CH</p>
<p>&lt; show data </p>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00308">308</a> 行定义.</p>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="class_c_udp_server_a47ad892f309e7274cc2938c7cee7ba1f_icgraph.png" border="0" usemap="#class_c_udp_server_a47ad892f309e7274cc2938c7cee7ba1f_icgraph" alt=""/></div>
<map name="class_c_udp_server_a47ad892f309e7274cc2938c7cee7ba1f_icgraph" id="class_c_udp_server_a47ad892f309e7274cc2938c7cee7ba1f_icgraph">
<area shape="rect" id="node2" href="class_c_udp_server.html#ad3678f42d43bec018b78eab515d572d2" title="SetrecvBufSize" alt="" coords="165,5,276,32"/>
</map>
</div>

</div>
</div>
<a id="a7372271e50c6806763777245c6a0a2b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7372271e50c6806763777245c6a0a2b8">&#9670;&nbsp;</a></span>SendData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SendData </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pszData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>本函数主要是发送数据，其中指令0x03与0x04发送后被直接返回判断下位机是否接收指令成功，1秒超时； </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">pszData,数据缓冲区指针</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成功返回0；不成功返回-1 </dd></dl>

<p class="definition">在文件 <a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a> 第 <a class="el" href="_c_udp_server_8cpp_source.html#l00066">66</a> 行定义.</p>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="class_c_udp_server_a7372271e50c6806763777245c6a0a2b8_icgraph.png" border="0" usemap="#class_c_udp_server_a7372271e50c6806763777245c6a0a2b8_icgraph" alt=""/></div>
<map name="class_c_udp_server_a7372271e50c6806763777245c6a0a2b8_icgraph" id="class_c_udp_server_a7372271e50c6806763777245c6a0a2b8_icgraph">
<area shape="rect" id="node2" href="class_c_udp_server.html#ad3678f42d43bec018b78eab515d572d2" title="SetrecvBufSize" alt="" coords="132,5,243,32"/>
</map>
</div>

</div>
</div>
<a id="ad3678f42d43bec018b78eab515d572d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3678f42d43bec018b78eab515d572d2">&#9670;&nbsp;</a></span>SetrecvBufSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SetrecvBufSize </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00027">27</a> 行定义.</p>
<div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="class_c_udp_server_ad3678f42d43bec018b78eab515d572d2_cgraph.png" border="0" usemap="#class_c_udp_server_ad3678f42d43bec018b78eab515d572d2_cgraph" alt=""/></div>
<map name="class_c_udp_server_ad3678f42d43bec018b78eab515d572d2_cgraph" id="class_c_udp_server_ad3678f42d43bec018b78eab515d572d2_cgraph">
<area shape="rect" id="node2" href="class_c_udp_server.html#a7372271e50c6806763777245c6a0a2b8" title="本函数主要是发送数据，其中指令0x03与0x04发送后被直接返回判断下位机是否接收指令成功，1秒超时； ..." alt="" coords="191,5,269,32"/>
<area shape="rect" id="node3" href="class_c_udp_server.html#a21fbbdcc6e88473bae9488405dcc9b95" title="本函数主要是接收下位机数据，在第一帧到达时获取本机时间，接收完成后分析是否有漏帧 " alt="" coords="191,56,269,83"/>
<area shape="rect" id="node4" href="class_c_udp_server.html#a47ad892f309e7274cc2938c7cee7ba1f" title="本函数主要是保存大缓冲区中抽取的源数据 " alt="" coords="174,107,286,133"/>
<area shape="rect" id="node5" href="class_c_udp_server.html#ae64df8898d87418be839fed707cebe57" title="本函数主要是获取下位机触发采集的时间 " alt="" coords="164,157,296,184"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="a3474dde8431418b65afdd6dd13f20e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3474dde8431418b65afdd6dd13f20e4b">&#9670;&nbsp;</a></span>m_emTypeofSwitch</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_udp_server_8h.html#a41273fdeb63230b3a5c360d8c7c11b82">SWITCH_TYPE</a> m_emTypeofSwitch</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00035">35</a> 行定义.</p>

</div>
</div>
<a id="af05b43787c7193d9ba50e9fa87f44675"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05b43787c7193d9ba50e9fa87f44675">&#9670;&nbsp;</a></span>m_nBufLen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int m_nBufLen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00048">48</a> 行定义.</p>

</div>
</div>
<a id="ac984961f2a410078bd0b2bd9f3fc86e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac984961f2a410078bd0b2bd9f3fc86e2">&#9670;&nbsp;</a></span>m_nFrameCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int m_nFrameCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00038">38</a> 行定义.</p>

</div>
</div>
<a id="abab4eee91459d8fe9adaf442a2cc0d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab4eee91459d8fe9adaf442a2cc0d0e">&#9670;&nbsp;</a></span>m_nSizeofEveryChannelRawData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int m_nSizeofEveryChannelRawData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00039">39</a> 行定义.</p>

</div>
</div>
<a id="a4203d95ecbe66da8c6965c49692fd8b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4203d95ecbe66da8c6965c49692fd8b0">&#9670;&nbsp;</a></span>m_ppnarrRawData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int(* m_ppnarrRawData)[370]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00037">37</a> 行定义.</p>

</div>
</div>
<a id="a57438bdfb49bff7554c247c509eb261b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57438bdfb49bff7554c247c509eb261b">&#9670;&nbsp;</a></span>m_ppszDataBuf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char(* m_ppszDataBuf)[1470]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00036">36</a> 行定义.</p>

</div>
</div>
<a id="ad1366d54462c24ed2f0156311d71a378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1366d54462c24ed2f0156311d71a378">&#9670;&nbsp;</a></span>m_unRecvBufSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int m_unRecvBufSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00034">34</a> 行定义.</p>

</div>
</div>
<a id="a72b80c70fe65c0d70d3af3c2f9c38a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b80c70fe65c0d70d3af3c2f9c38a3d">&#9670;&nbsp;</a></span>RecvAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sockaddr_in RecvAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00046">46</a> 行定义.</p>

</div>
</div>
<a id="aa36e5573cde44b5eb5a5705b746c388f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36e5573cde44b5eb5a5705b746c388f">&#9670;&nbsp;</a></span>RecvBuf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char RecvBuf[1500]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00047">47</a> 行定义.</p>

</div>
</div>
<a id="a8161985c5b83878068a0e6ce4c8bcfd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8161985c5b83878068a0e6ce4c8bcfd7">&#9670;&nbsp;</a></span>RecvSocket</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SOCKET RecvSocket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00045">45</a> 行定义.</p>

</div>
</div>
<a id="afa4f2f8a24a79e3423d13b07a005f387"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4f2f8a24a79e3423d13b07a005f387">&#9670;&nbsp;</a></span>SenderAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sockaddr_in SenderAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00049">49</a> 行定义.</p>

</div>
</div>
<a id="a99d916e8fd71179b86cd135c2a27a905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d916e8fd71179b86cd135c2a27a905">&#9670;&nbsp;</a></span>wsaData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WSADATA wsaData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">在文件 <a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a> 第 <a class="el" href="_c_udp_server_8h_source.html#l00044">44</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>E:/Project/GZMetro/Switch/softwareDesign/switchMonitorProject/switchMonitorClient/monitorClient/include/<a class="el" href="_c_udp_server_8h_source.html">CUdpServer.h</a></li>
<li>E:/Project/GZMetro/Switch/softwareDesign/switchMonitorProject/switchMonitorClient/monitorClient/src/<a class="el" href="_c_udp_server_8cpp_source.html">CUdpServer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
